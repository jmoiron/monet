<form method="POST" action="" class="bookmarks-form">
    {{if .bookmark.ID}}<input type="hidden" name="id" id="id" value="{{.bookmark.ID}}" />{{end}}
    <div>
        <input type="text" name="title" id="title" class="bookmark-title-input js-clear-default"
            value="{{if .bookmark.Title}}{{ .bookmark.Title}}{{else}}Bookmark title...{{end}}" data-default="Bookmark title...">
        <div class="shrink-grow-buttons">
          <i class="fa-solid fa-down-left-and-up-right-to-center shrink"></i>
          <i class="fa-solid fa-up-right-and-down-left-from-center grow"></i>
        </div>
    </div>
    <div class="bookmark-url-input-container">
        <span class="take-snapshot-container"><i id="take-snapshot" class="fa-solid fa-camera-retro"></i></span>
        <input type="url" name="url" id="url" class="bookmark-url-input js-clear-default"
            value="{{if .bookmark.URL}}{{ .bookmark.URL}}{{else}}https://...{{end}}" data-default="https://...">
    </div>
    <div class="bookmark-content-grid">
        <div class="bookmark-icon-preview">
            {{if screenshotURL .bookmark.IconPath}}
                <a href="{{screenshotURL .bookmark.ScreenshotPath}}" target="_blank">
                    <img src="{{screenshotURL .bookmark.IconPath}}">
                </a>
            {{else if screenshotURL .bookmark.ScreenshotPath}}
                <img src="{{screenshotURL .bookmark.ScreenshotPath}}">
            {{end}}
        </div>
        <div class="bookmark-info">
            <div>
                <label for="created">Created At:</label>
                <input type="timestamp" name="created" id="created" value="{{.bookmark.CreatedAt}}">
                <span class="date" style="float:none;">{{.bookmark.CreatedAt | naturalTime}}</span>
            </div>
            <div>
                <div>Screenshot Path: <span class="mono">{{.bookmark.ScreenshotPath}}</span>
                </div>
            </div>
            <div>
                <div>Icon Path: <span class="mono">{{.bookmark.IconPath}}</span>
                </div>
            </div>
            <div>
                Updated At: <span class="date" style="float:none;">{{.bookmark.UpdatedAt | naturalTime}}</span>
            </div>
            <div>
                Published At: <span class="date" style="float:none;">{{.bookmark.PublishedAt | naturalTime}}</span>
            </div>
        </div>
    </div>
    <div>
        <textarea class="split-content-input js-clear-default" name="description" id="description" spellcheck="true" data-default="Optional description...">{{
            if .bookmark.Description}}{{.bookmark.Description}}{{else}}Optional description...{{end
        }}</textarea>
    </div>
    <div class="button-group">
      <div class="published">
          <input type="hidden" value="{{.bookmark.Published}}" name="published" id="published">
          <a class="published-toggle-button published-{{.bookmark.Published}}">Published
              <i class="icon {{if gt .bookmark.Published 0}}icon-check{{else}}icon-remove{{end}}"></i>
          </a>
      </div>
      <div class="buttons">
          <input class="save-button" type="submit" value="Save">
      </div>
      <div class="clear"></div>
    </div>
</form>

<script src="/static/js/wasm_exec_1.23.4.js"></script>
<script src="/static/js/goldmark.js"></script>
<script>$(() => {$("#description").livePreview()});</script>